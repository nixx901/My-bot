const _0x5f1fc7=_0x5582;function _0x5582(_0x58302b,_0x22d118){const _0x2fce2a=_0x2fce();return _0x5582=function(_0x55827b,_0x4dc9e9){_0x55827b=_0x55827b-0x137;let _0x2925a3=_0x2fce2a[_0x55827b];return _0x2925a3;},_0x5582(_0x58302b,_0x22d118);}(function(_0xf82ae0,_0x17f47b){const _0x5d383b=_0x5582,_0x57c2d=_0xf82ae0();while(!![]){try{const _0x15f6fe=-parseInt(_0x5d383b(0x160))/0x1*(parseInt(_0x5d383b(0x145))/0x2)+-parseInt(_0x5d383b(0x15a))/0x3*(-parseInt(_0x5d383b(0x15c))/0x4)+parseInt(_0x5d383b(0x151))/0x5+-parseInt(_0x5d383b(0x169))/0x6+-parseInt(_0x5d383b(0x159))/0x7+parseInt(_0x5d383b(0x15b))/0x8*(parseInt(_0x5d383b(0x138))/0x9)+-parseInt(_0x5d383b(0x16a))/0xa*(parseInt(_0x5d383b(0x167))/0xb);if(_0x15f6fe===_0x17f47b)break;else _0x57c2d['push'](_0x57c2d['shift']());}catch(_0x4ce179){_0x57c2d['push'](_0x57c2d['shift']());}}}(_0x2fce,0x530d6));import _0x41810f from'node-fetch';import{addExif}from'../lib/sticker.js';import{Sticker}from'wa-sticker-formatter';let handler=async(_0x4ce65e,{conn:_0x5c04ec,args:_0x1f26fb,usedPrefix:_0x128f95,command:_0x38a262})=>{const _0x305db0=_0x5582;let _0x24484f=![];try{let [_0x5546bf,..._0x46efe5]=_0x1f26fb['join']` `[_0x305db0(0x158)]`|`;_0x46efe5=(_0x46efe5||[])[_0x305db0(0x148)]`|`;let _0x51dedf=_0x4ce65e[_0x305db0(0x161)]?_0x4ce65e[_0x305db0(0x161)]:_0x4ce65e,_0x3ae71d=(_0x51dedf[_0x305db0(0x137)]||_0x51dedf)[_0x305db0(0x162)]||_0x51dedf[_0x305db0(0x163)]||'';if(/webp/g[_0x305db0(0x14b)](_0x3ae71d)){let _0x430340=await _0x51dedf['download']?.();_0x24484f=await addExif(_0x430340,_0x5546bf||'',_0x46efe5||'');}else{if(/image/g[_0x305db0(0x14b)](_0x3ae71d)){let _0x4a8ce3=await _0x51dedf[_0x305db0(0x166)]?.();_0x24484f=await createSticker(_0x4a8ce3,![],_0x5546bf,_0x46efe5);}else{if(/video/g['test'](_0x3ae71d)){let _0x277458=await _0x51dedf[_0x305db0(0x166)]?.();_0x24484f=await mp4ToWebp(_0x277458,{'pack':_0x5546bf,'author':_0x46efe5});}else{if(_0x1f26fb[0x0]&&isUrl(_0x1f26fb[0x0]))_0x24484f=await createSticker(![],_0x1f26fb[0x0],'',_0x46efe5,0x14);else throw _0x305db0(0x15f)+(_0x128f95+_0x38a262);}}}}catch(_0x483306){console[_0x305db0(0x144)](_0x483306),_0x24484f=_0x483306;}finally{_0x4ce65e[_0x305db0(0x16f)](_0x24484f);}};handler[_0x5f1fc7(0x168)]=[_0x5f1fc7(0x14d),'s'],handler[_0x5f1fc7(0x143)]=!![],handler[_0x5f1fc7(0x16b)]=[_0x5f1fc7(0x14d)],handler['alias']=[_0x5f1fc7(0x14f),'sticker','sgif',_0x5f1fc7(0x139),_0x5f1fc7(0x149)],handler[_0x5f1fc7(0x16d)]=/^s(ticker)?gif?$/i;export default handler;function _0x2fce(){const _0x4eb13e=['--aggressive-cache-discard','--disable-offline-load-stale-cache','full','HeadlessChrome/88.0.4324.190','match','author','--disk-cache-size=0','2.20.205.16','limit','log','8aZxHjd','from','C:\x5c\x5cProgram\x20Files\x20(x86)\x5c\x5cGoogle\x5c\x5cChrome\x5c\x5cApplication\x5c\x5cchrome.exe','join','stickergif','crop','test','00:00:00.0','sticker','base64','stiker','3.6.10\x20UPDATE\x20AVAILABLE:\x203.6.11','2688580lcJjxE','6247','00:00:7.0',';base64,','application/json,\x20text/plain,\x20/','toString','pack','split','4136475AOtDeC','3WuIRYc','32ohwqDk','2383828rlcmVv','toBuffer','--disable-cache','Reply\x20an\x20image/video/sticker\x20with\x20command\x20','105751vyWFBB','quoted','mimetype','mediaType','2.2106.5','--disable-setuid-sandbox','download','250877yzHyMA','help','729978JrqprD','90tKPDJI','tags','stringify','command','WhatsApp/2.2037.6\x20Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_6)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/85.0.4183.83\x20Safari/537.36','reply','msg','1231569miCuLs','stikergif','text'];_0x2fce=function(){return _0x4eb13e;};return _0x2fce();}const isUrl=_0x3e37f4=>_0x3e37f4[_0x5f1fc7(0x13f)](new RegExp(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)(jpe?g|gif|png)/,'gi'));async function createSticker(_0x55187e,_0x37a9ea,_0x2add70,_0x121b90,_0x34e1d5){const _0x2bf4be=_0x5f1fc7;let _0x741771={'type':_0x2bf4be(0x13d),'pack':stickpack,'author':stickauth,'quality':_0x34e1d5};return new Sticker(_0x55187e?_0x55187e:_0x37a9ea,_0x741771)[_0x2bf4be(0x15d)]();}async function mp4ToWebp(_0x4b51b2,_0x290983){const _0x2a253b=_0x5f1fc7;if(_0x290983){if(!_0x290983['pack'])_0x290983[_0x2a253b(0x157)]='‎';if(!_0x290983['author'])_0x290983[_0x2a253b(0x140)]='‎';if(!_0x290983[_0x2a253b(0x14a)])_0x290983[_0x2a253b(0x14a)]=![];}else!_0x290983&&(_0x290983={'pack':'‎','author':'‎','crop':![]});let _0x15d2e2=_0x4b51b2[_0x2a253b(0x156)](_0x2a253b(0x14e));const _0x401b82={'file':'data:video/mp4;base64,'+_0x15d2e2,'processOptions':{'crop':_0x290983?.[_0x2a253b(0x14a)],'startTime':_0x2a253b(0x14c),'endTime':_0x2a253b(0x153),'loop':0x0},'stickerMetadata':{..._0x290983},'sessionInfo':{'WA_VERSION':_0x2a253b(0x164),'PAGE_UA':_0x2a253b(0x16e),'WA_AUTOMATE_VERSION':_0x2a253b(0x150),'BROWSER_VERSION':_0x2a253b(0x13e),'OS':'Windows\x20Server\x202016','START_TS':0x177dc64c025,'NUM':_0x2a253b(0x152),'LAUNCH_TIME_MS':0x1efe,'PHONE_VERSION':_0x2a253b(0x142)},'config':{'sessionId':'session','headless':!![],'qrTimeout':0x14,'authTimeout':0x0,'cacheEnabled':![],'useChrome':!![],'killProcessOnBrowserClose':!![],'throwErrorOnTosBlock':![],'chromiumArgs':['--no-sandbox',_0x2a253b(0x165),_0x2a253b(0x13b),_0x2a253b(0x15e),'--disable-application-cache',_0x2a253b(0x13c),_0x2a253b(0x141)],'executablePath':_0x2a253b(0x147),'skipBrokenMethodsCheck':!![],'stickerServerEndpoint':!![]}};let _0x598ebb=await _0x41810f('https://sticker-api.openwa.dev/convertMp4BufferToWebpDataUrl',{'method':'post','headers':{'Accept':_0x2a253b(0x155),'Content-Type':'application/json;charset=utf-8'},'body':JSON[_0x2a253b(0x16c)](_0x401b82)});return Buffer[_0x2a253b(0x146)]((await _0x598ebb[_0x2a253b(0x13a)]())[_0x2a253b(0x158)](_0x2a253b(0x154))[0x1],'base64');}